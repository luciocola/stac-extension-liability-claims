{
  "stac_version": "1.0.0",
  "stac_extensions": [
    "https://luciocola.github.io/stac-extension-liability-claims/json-schema/schema.json"
  ],
  "type": "Feature",
  "id": "sentinel2-verified-quality",
  "bbox": [-122.5, 37.7, -122.3, 37.9],
  "geometry": {
    "type": "Polygon",
    "coordinates": [
      [
        [-122.5, 37.7],
        [-122.3, 37.7],
        [-122.3, 37.9],
        [-122.5, 37.9],
        [-122.5, 37.7]
      ]
    ]
  },
  "properties": {
    "datetime": "2025-01-08T10:30:00Z",
    "title": "Sentinel-2 L2A with Verifiable Quality Report",
    "description": "Atmospherically corrected Sentinel-2 imagery with cryptographically signed ISO 19157 quality assessment",
    "liability:responsible_party": "did:web:esa.int",
    "liability:quality": {
      "scope": {
        "level": "dataset"
      },
      "report": [{
        "measure": {
          "measureIdentifier": {
            "code": "DQ_CompletenessCommission",
            "codeSpace": "http://iso.org/tc211/iso19157/-1/dq/1.0/"
          },
          "measureDescription": "Excess items present in the dataset"
        },
        "evaluationMethod": {
          "type": "DQ_FullInspection",
          "description": "Complete inspection of all features"
        },
        "result": {
          "type": "DQ_QuantitativeResult",
          "value": [0.002],
          "valueUnit": "percentage"
        },
        "resultDateTime": "2025-01-08T09:00:00Z"
      }]
    },
    "liability:verifiable_credentials": [
      {
        "@context": [
          "https://www.w3.org/ns/credentials/v2",
          "https://stac-extensions.github.io/liability-claims/v1.2.0/vc-context.jsonld"
        ],
        "id": "urn:uuid:4f3a6d8c-9e2b-4a1d-8c7e-5f3a6d8c9e2b",
        "type": [
          "VerifiableCredential",
          "ISO19157QualityCredential"
        ],
        "issuer": {
          "id": "did:web:esa.int",
          "name": "European Space Agency - Quality Assurance Division"
        },
        "validFrom": "2025-01-08T10:30:00Z",
        "validUntil": "2026-01-08T10:30:00Z",
        "credentialSubject": {
          "id": "https://sentinel.esa.int/stac/items/sentinel2-verified-quality",
          "type": "STACItem",
          "qualityAssessment": {
            "conformsTo": "ISO19157-1:2023",
            "overallQuality": "passed",
            "completeness": {
              "commission": {
                "value": 0.002,
                "unit": "percentage"
              }
            },
            "positionalAccuracy": {
              "horizontal": {
                "value": 5.2,
                "unit": "meters",
                "confidence": 0.95
              }
            },
            "thematicAccuracy": {
              "classification": {
                "value": 94.7,
                "unit": "percentage"
              }
            },
            "assessmentDate": "2025-01-08T09:00:00Z",
            "assessor": {
              "name": "Dr. Maria Santos",
              "organization": "ESA QA Division",
              "role": "Senior Quality Analyst"
            }
          }
        },
        "credentialStatus": {
          "id": "https://esa.int/credentials/status/2025#67890",
          "type": "BitstringStatusListEntry",
          "statusPurpose": "revocation",
          "statusListIndex": "67890",
          "statusListCredential": "https://esa.int/credentials/status/2025"
        },
        "proof": {
          "type": "DataIntegrityProof",
          "cryptosuite": "eddsa-jcs-2022",
          "proofPurpose": "assertionMethod",
          "verificationMethod": "did:web:esa.int#quality-signing-key-2025",
          "created": "2025-01-08T10:35:00Z",
          "proofValue": "z58DAdFfa9SkqZMVPxAQpic7ndSayn1PzZs6ZjWp1CktyGesjuTSwRdoWhAfGFCF5bppETSTojQCrfFPP2oumHKtz"
        }
      },
      {
        "@context": [
          "https://www.w3.org/ns/credentials/v2",
          "http://www.w3.org/ns/prov#",
          "https://stac-extensions.github.io/liability-claims/v1.2.0/vc-context.jsonld"
        ],
        "id": "urn:uuid:prov-cert-5a7b-2025",
        "type": [
          "VerifiableCredential",
          "ProvenanceCredential"
        ],
        "issuer": {
          "id": "did:web:processor.esa.int",
          "name": "Dr. Jean-Pierre Dubois - ESA Processing Center"
        },
        "validFrom": "2025-01-08T10:30:00Z",
        "credentialSubject": {
          "id": "https://sentinel.esa.int/stac/items/sentinel2-verified-quality",
          "type": "STACItem",
          "provenance": {
            "prefix": {
              "ex": "http://esa.int/sentinel/",
              "prov": "http://www.w3.org/ns/prov#"
            },
            "entity": {
              "ex:sentinel2_l2a": {
                "prov:type": "prov:Dataset",
                "prov:label": "Sentinel-2 Level 2A Product",
                "prov:wasGeneratedBy": "ex:atmos_correction"
              },
              "ex:sentinel2_l1c": {
                "prov:type": "prov:Dataset",
                "prov:label": "Sentinel-2 Level 1C Product",
                "ex:acquisitionDate": "2025-01-07T10:30:00Z"
              }
            },
            "activity": {
              "ex:atmos_correction": {
                "prov:type": "ex:AtmosphericCorrection",
                "prov:label": "Sen2Cor atmospheric correction",
                "prov:startTime": "2025-01-08T08:00:00Z",
                "prov:endTime": "2025-01-08T08:45:00Z",
                "ex:algorithm": "Sen2Cor v2.11",
                "ex:parameters": {
                  "aerosol_type": "maritime",
                  "visibility": "40km",
                  "elevation_model": "SRTM"
                }
              }
            },
            "agent": {
              "ex:jean_pierre": {
                "prov:type": "prov:Person",
                "prov:label": "Dr. Jean-Pierre Dubois",
                "ex:orcid": "0000-0002-1234-5678"
              },
              "ex:esa_processing": {
                "prov:type": "prov:Organization",
                "prov:label": "ESA Processing Center"
              },
              "ex:sen2cor": {
                "prov:type": "prov:SoftwareAgent",
                "prov:label": "Sen2Cor v2.11"
              }
            },
            "used": {
              "_:u1": {
                "prov:activity": "ex:atmos_correction",
                "prov:entity": "ex:sentinel2_l1c",
                "prov:time": "2025-01-08T08:00:00Z"
              }
            },
            "wasGeneratedBy": {
              "_:wgb1": {
                "prov:entity": "ex:sentinel2_l2a",
                "prov:activity": "ex:atmos_correction",
                "prov:time": "2025-01-08T08:45:00Z"
              }
            },
            "wasAssociatedWith": {
              "_:waw1": {
                "prov:activity": "ex:atmos_correction",
                "prov:agent": "ex:jean_pierre"
              },
              "_:waw2": {
                "prov:activity": "ex:atmos_correction",
                "prov:agent": "ex:sen2cor"
              }
            },
            "actedOnBehalfOf": {
              "_:aobo1": {
                "prov:delegate": "ex:jean_pierre",
                "prov:responsible": "ex:esa_processing"
              }
            },
            "wasDerivedFrom": {
              "_:wdf1": {
                "prov:generatedEntity": "ex:sentinel2_l2a",
                "prov:usedEntity": "ex:sentinel2_l1c",
                "prov:activity": "ex:atmos_correction"
              }
            }
          }
        },
        "proof": {
          "type": "DataIntegrityProof",
          "cryptosuite": "eddsa-jcs-2022",
          "proofPurpose": "assertionMethod",
          "verificationMethod": "did:web:processor.esa.int#jean-pierre-key",
          "created": "2025-01-08T10:30:00Z",
          "proofValue": "z3PFhRbiTVzkZAiHWJq4cQmNnSVG8gCBZ2HbtKmA9kFMJVLRvYchBQ7m5KskGPKXgVdN9A7kLYTyJ4BQJvE7AWQzZ"
        }
      }
    ]
  },
  "links": [
    {
      "rel": "self",
      "href": "https://sentinel.esa.int/stac/items/sentinel2-verified-quality.json"
    },
    {
      "rel": "root",
      "href": "https://sentinel.esa.int/stac/catalog.json"
    },
    {
      "rel": "parent",
      "href": "https://sentinel.esa.int/stac/collections/sentinel-2.json"
    },
    {
      "rel": "collection",
      "href": "https://sentinel.esa.int/stac/collections/sentinel-2.json"
    },
    {
      "rel": "related",
      "href": "https://esa.int/.well-known/did.json",
      "title": "ESA DID Document"
    },
    {
      "rel": "related",
      "href": "https://esa.int/credentials/status/2025",
      "title": "Credential Status List"
    }
  ],
  "assets": {
    "image": {
      "href": "https://sentinel.esa.int/data/S2A_L2A_20250107.tif",
      "type": "image/tiff; application=geotiff; profile=cloud-optimized",
      "title": "Sentinel-2 L2A COG",
      "roles": [
        "data"
      ]
    },
    "metadata": {
      "href": "https://sentinel.esa.int/metadata/S2A_L2A_20250107.xml",
      "type": "application/xml",
      "title": "ISO 19115 Metadata",
      "roles": [
        "metadata"
      ]
    },
    "quality-report": {
      "href": "https://sentinel.esa.int/quality/S2A_L2A_20250107_QA.json",
      "type": "application/json",
      "title": "Detailed ISO 19157 Quality Report",
      "roles": [
        "metadata"
      ]
    },
    "verifiable-credential-quality": {
      "href": "https://esa.int/credentials/quality/4f3a6d8c-9e2b-4a1d-8c7e-5f3a6d8c9e2b.json",
      "type": "application/vc+ld+json",
      "title": "Standalone Quality Credential (VC 2.0)",
      "roles": [
        "metadata"
      ],
      "liability:security_classification": "public"
    },
    "verifiable-credential-provenance": {
      "href": "https://esa.int/credentials/prov/prov-cert-5a7b-2025.json",
      "type": "application/vc+ld+json",
      "title": "Standalone Provenance Credential (VC 2.0)",
      "roles": [
        "metadata"
      ],
      "liability:security_classification": "public"
    }
  }
}
